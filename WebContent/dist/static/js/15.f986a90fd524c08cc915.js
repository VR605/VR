webpackJsonp([15],{488:function(e,r,a){a(592);var o=a(185)(a(522),a(566),"data-v-2dbd1aba",null);e.exports=o.exports},522:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={data:function(){var e=this,r=function(r,a,o){var s=e.$data,t=/^[a-zA-Z0-9]+$/;return a?a.gblen()<6||a.gblen()>16?(s.check1=!0,o(new Error("密码长度为6 - 16个字符"))):a.match(t)?void(s.check1=!1):(s.check2=!0,o(new Error("密码仅可由数字与字母组成"))):(s.check1=!0,o(new Error("密码不能为空")))},a=function(r,a,o){var s=e.$data,t=/^[a-zA-Z0-9]+$/;return a?a.gblen()<6||a.gblen()>16?(s.check2=!0,o(new Error("密码长度为6 - 16个字符"))):a.match(t)?void(s.check2=!1):(s.check2=!0,o(new Error("密码仅可由数字与字母组成"))):(s.check2=!0,o(new Error("密码不能为空")))},o=function(r,a,o){var s=e.$data,t=/^[a-zA-Z0-9]+$/;return a?a.gblen()<6||a.gblen()>16?(s.check3=!0,o(new Error("密码长度为6 - 16个字符"))):a.match(t)?void(s.check3=!1):(s.check3=!0,o(new Error("密码仅可由数字与字母组成"))):(s.check3=!0,o(new Error("密码不能为空")))};return{hostUrl:"/VR",check1:!0,check2:!0,check3:!0,ruleForm:{oldPassword:"",newPassword:"",checkNewPassword:""},rules:{oldPassword:[{validator:r,trigger:"change"},{validator:r,trigger:"blur"}],newPassword:[{validator:a,trigger:"change"},{validator:a,trigger:"blur"}],checkNewPassword:[{validator:o,trigger:"change"},{validator:o,trigger:"blur"}]}}},methods:{codeParsing:function(e){var r=this,a=function(e,a){r.$message({title:e,message:a,type:"error"})};switch(e){case-1:a("系统错误","未知错误，请上报管理员");break;case 201:a("输入域错误","验证码错误");break;case 300:a("输入域错误","邮箱或密码错误");break;case 301:a("权限问题","用户已禁用，请联系管理员");break;case 302:a("权限问题","用户未激活，请去邮箱激活用户");break;case 303:a("注册问题","邮箱已占用，请更改邮箱");break;case 304:a("注册问题","昵称已占用，请更改昵称");break;case 400:a("权限问题","用户未登录，请重新登录");break;case 401:a("权限问题","用户无权访问，请联系管理员");break;case 402:a("操作错误","删除错误,请刷新重试");break;case 500:a("系统错误","未知错误，请上报管理员");break;case 600:a("TIME_OUT","访问超时，请检查网络连接");break;case 700:a("激活错误","非法激活链接，请联系管理员");break;case 800:a("激活错误","用户已被激活，请直接登录")}},handleClick:function(){},checkAllow:function(){var e=this;return e.check1||e.check2||e.check3},submitForm:function(){var e=this,r=this;console.log(r.ruleForm),r.ruleForm.oldPassword==r.ruleForm.newPassword?this.$message({type:"info",message:"新旧密码不能一样"}):r.ruleForm.newPassword!=r.ruleForm.checkNewPassword?this.$message({type:"info",message:"确认密码不一致"}):this.$confirm("确定要修改密码？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={oldPassword:"",newPassword:""};a.oldPassword=r.ruleForm.oldPassword,a.newPassword=r.ruleForm.newPassword,e.$axios({url:"/user/changePassword",method:"post",baseURL:r.hostUrl,data:a}).then(function(a){"200"==a.data.code?e.$message({type:"success",message:"修改成功"}):(console.log(a.data.code),r.codeParsing(a.data.code))}).catch(function(r){console.log("Error:",r),e.$message({type:"warning",message:"AJAX FAIL"})})}).catch(function(){e.$message({type:"info",message:"已取消"})})}}}},534:function(e,r,a){r=e.exports=a(82)(void 0),r.push([e.i,".crumbs[data-v-2dbd1aba]{text-decoration:none}.form-box[data-v-2dbd1aba]{width:300px;margin-top:50px;margin-left:0;box-shadow:0 0 8px 0 rgba(232,237,250,.9),0 2px 4px 0 rgba(232,237,250,.9);padding:50px 50px 50px 20px}.submit-btn[data-v-2dbd1aba]{width:220px;margin-left:80px}.submit-btn button[data-v-2dbd1aba]{width:100%}",""])},566:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-date"}),e._v(" 个人信息管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改密码")])],1)],1),e._v(" "),a("div",{staticClass:"form-box"},[a("el-form",{ref:"ruleForm",attrs:{"label-position":"right","label-width":"80px",model:e.ruleForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{icon:"search",type:"password","on-icon-click":e.handleClick()},on:{keyup:function(e){}},model:{value:e.ruleForm.oldPassword,callback:function(r){e.ruleForm.oldPassword=r},expression:"ruleForm.oldPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{icon:"search",type:"password"},on:{keyup:function(e){}},model:{value:e.ruleForm.newPassword,callback:function(r){e.ruleForm.newPassword=r},expression:"ruleForm.newPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkNewPassword"}},[a("el-input",{attrs:{icon:"search",type:"password"},on:{keyup:function(e){}},model:{value:e.ruleForm.checkNewPassword,callback:function(r){e.ruleForm.checkNewPassword=r},expression:"ruleForm.checkNewPassword"}})],1)],1),e._v(" "),a("div",{staticClass:"submit-btn"},[a("el-button",{attrs:{type:"primary",disabled:e.check1||e.check2||e.check3},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("确认")])],1)],1)])},staticRenderFns:[]}},592:function(e,r,a){var o=a(534);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(186)("0324f4b6",o,!0)}});