webpackJsonp([17],{485:function(e,a,s){s(601);var t=s(185)(s(518),s(575),null,null);e.exports=t.exports},518:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{activeName2:"first",allowSubmit:!0,hostURL:"/VR",uid:"1",ques_data:{questions:[{id:1,question:"1.你是谁？",questiontype:"single"},{id:3,question:"3.你对某个产品有什么建议？",questiontype:"essay"}]},answ_data:{answers:[{question:1,user:self.uid,answer:"1",producttype:"",productname:""},{question:3,user:self.uid,answer:"",producttype:"",productname:""}]},pro_type:{opts:[{value:"AllInOnePc",label:"一体机"},{value:"PcheadSet",label:"PC头显"},{value:"MobileBox",label:"手机盒子"}],value:""},pro_sales:{opts:[{value:"",label:""}],value:""},pro_sales_disable:!0}},methods:{codeParsing:function(e){var a=this,s=function(e,s){a.$message({title:e,message:s,type:"error"})};switch(e){case-1:s("系统错误","未知错误，请上报管理员");break;case 201:s("输入域错误","验证码错误");break;case 300:s("输入域错误","邮箱或密码错误");break;case 301:s("权限问题","用户已禁用，请联系管理员");break;case 302:s("权限问题","用户未激活，请去邮箱激活用户");break;case 303:s("注册问题","邮箱已占用，请更改邮箱");break;case 304:s("注册问题","昵称已占用，请更改昵称");break;case 400:s("权限问题","用户未登录，请重新登录");break;case 401:s("权限问题","用户无权访问，请联系管理员");break;case 402:s("操作错误","删除错误,请刷新重试");break;case 500:s("系统错误","未知错误，请上报管理员");break;case 600:s("TIME_OUT","访问超时，请检查网络连接");break;case 700:s("激活错误","非法激活链接，请联系管理员");break;case 800:s("激活错误","用户已被激活，请直接登录")}},getData:function(e){var a=this;a.ques_data={questions:[{id:1,question:"1.你是谁？",questiontype:"single"},{id:2,question:"2.我是谁？",questiontype:"single"},{id:3,question:"3.你对某个产品有什么建议？",questiontype:"essay"}]},a.answ_data={answers:[{question:"1.你是谁？",user:a.uid,answer:"1",producttype:"",productname:""},{question:"2.我是谁？",user:a.uid,answer:"2",producttype:"",productname:""},{question:"3.你对某个产品有什么建议？",user:a.uid,answer:"",producttype:"",productname:""}]},a.$axios({url:"/Question",method:"get",baseURL:a.hostURL}).then(function(e){console.log(e.data),a.ques_data.questions=e.data,a.answ_data.answers=[];for(var s=0;s<a.ques_data.questions.length;s++)a.answ_data.answers.push({question:a.ques_data.questions[s].question,user:localStorage.getItem("ms_userid"),answer:"",producttype:"",productname:""})}).catch(function(e){console.log(e)})},sendQuestionaire:function(){for(var e=this,a=!0,s=0;s<e.answ_data.answers.length;s++)if(""==e.answ_data.answers[s].answer){a=!1;break}if(a&&""!=e.pro_sales.value&&""!=e.pro_type.value){for(var s=0;s<e.answ_data.answers.length;s++)e.answ_data.answers[s].producttype=e.pro_type.value,e.answ_data.answers[s].productname=e.pro_sales.value;e.$axios({url:"/Answer",method:"post",baseURL:e.hostURL,data:e.answ_data.answers}).catch(function(e){console.log(e)}),e.$router.push("/user/questionaire/statistic")}else e.$message("还有内容未填写！")},sendProType:function(){var e=this;e.pro_sales={opts:[{value:"",label:""}],value:""},console.log("type"),e.$axios({url:"/Question/type?type="+e.pro_type.value,method:"get",baseURL:e.hostURL}).then(function(a){for(var s=0;s<a.data.length;s++)e.pro_sales.opts.push({value:a.data[s],label:a.data[s]});e.pro_sales_disable=!1})}},mounted:function(){this.getData()}}},543:function(e,a,s){a=e.exports=s(82)(void 0),a.push([e.i,".crumbs{text-decoration:none}.bread{font-size:16px}#questions{margin-left:30px}.questionaire p{font-size:18px;margin-top:30px}.questionaire hr{width:72.7%}.left_radio{margin-right:200px;margin-left:30px}.essay-answer{width:400px}.submit_btn{margin-left:180px;margin-top:30px}.selector{width:700px;margin-top:20px;display:flex}.protype_selector{margin-left:50px;float:left}.prosales_selector{margin-left:40px;flex:1}.questionbox{padding:28px;width:800px;border:1px solid #e1e1e1;box-shadow:0 0 2px rgba(0,0,0,.1);margin-top:20px}",""])},575:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-date"}),e._v("产品中心")]),e._v(" "),s("el-breadcrumb-item",[e._v("问卷填写")])],1)],1),e._v(" "),s("div",{staticClass:"questionaire"},[s("p",[e._v("问卷")]),e._v(" "),s("hr"),e._v(" "),s("div",{staticClass:"selector"},[s("div",{staticClass:"protype_selector"},[s("el-select",{attrs:{placeholder:"请选择产品类型"},on:{change:function(a){e.sendProType()}},model:{value:e.pro_type.value,callback:function(a){e.pro_type.value=a},expression:"pro_type.value"}},e._l(e.pro_type.opts,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),s("div",{staticClass:"prosales_selector"},[s("el-select",{attrs:{placeholder:"请选择产品型号",disabled:e.pro_sales_disable},model:{value:e.pro_sales.value,callback:function(a){e.pro_sales.value=a},expression:"pro_sales.value"}},e._l(e.pro_sales.opts,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),s("div",{staticClass:"questionbox"},[s("form",{attrs:{id:"questions"}},e._l(e.answ_data.answers,function(a,t){return s("div",{staticClass:"single_question"},[s("p",{staticStyle:{"margin-bottom":"10px"}},[e._v(e._s(a.question))]),e._v(" "),"single"==e.ques_data.questions[t].questiontype?s("div",{staticClass:"answer"},[s("label",{staticClass:"left_radio"},[s("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:a.answer,callback:function(e){a.answer=e},expression:"a.answer"}},[e._v("是")])],1),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:a.answer,callback:function(e){a.answer=e},expression:"a.answer"}},[e._v("否 ")])],1):"essay"==e.ques_data.questions[t].questiontype?s("div",{staticClass:"essay-answer"},[s("el-input",{attrs:{type:"textarea",row:3,placeholder:"请输入内容",resize:"none"},model:{value:a.answer,callback:function(e){a.answer=e},expression:"a.answer"}})],1):e._e()])})),e._v(" "),s("div",{staticClass:"submit_btn"},[s("el-button",{attrs:{type:"primary"},on:{click:function(a){e.sendQuestionaire()}}},[e._v("提交问卷")])],1)])])])},staticRenderFns:[]}},601:function(e,a,s){var t=s(543);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);s(186)("3d4ff5ae",t,!0)}});